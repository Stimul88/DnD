(()=>{"use strict";class e{constructor(){this.todo=document.querySelector(".todo"),this.inProgress=document.querySelector(".in-progress"),this.done=document.querySelector(".done")}saveLocal(){localStorage.setItem("todo",this.todo.innerHTML),localStorage.setItem("inProgress",this.inProgress.innerHTML),localStorage.setItem("done",this.done.innerHTML)}insertLocal(){0!==localStorage.length&&(this.todo.innerHTML="",this.inProgress.innerHTML="",this.done.innerHTML="",this.todo.innerHTML=localStorage.getItem("todo"),this.inProgress.innerHTML=localStorage.getItem("inProgress"),this.done.innerHTML=localStorage.getItem("done"))}}const t=new e;const s=new e;const n=new class{constructor(){this.items=Array.from(document.querySelectorAll(".items")),this.textArea=Array.from(document.querySelectorAll(".textarea")),this.add=document.querySelectorAll(".add"),this.otherBtn=Array.from(document.querySelectorAll(".other-btn ")),this.addContainer=Array.from(document.querySelectorAll(".add-container ")),this.icon=document.querySelectorAll(".icon"),this.addCardBtn=document.querySelectorAll(".add-card-btn")}addArea(){this.add.forEach(((e,s)=>{this.add[s].addEventListener("click",(e=>{const t=this.textArea.find((e=>!e.classList.contains("hidden"))),n=this.otherBtn.find((e=>!e.classList.contains("hidden"))),i=this.addContainer.find((e=>e.classList.contains("hidden")));t&&(t.classList.add("hidden"),n.classList.add("hidden"),i.classList.remove("hidden")),this.textArea[s].classList.remove("hidden"),this.otherBtn[s].classList.remove("hidden"),this.addContainer[s].classList.add("hidden"),this.textArea[s].value=""})),this.icon[s].addEventListener("click",(e=>{this.textArea[s].classList.add("hidden"),this.otherBtn[s].classList.add("hidden"),this.addContainer[s].classList.remove("hidden"),this.textArea[s].value=""})),this.addCardBtn[s].addEventListener("click",(e=>{""!==this.textArea[s].value.trim()?(this.textArea[s].classList.add("hidden"),this.otherBtn[s].classList.add("hidden"),this.addContainer[s].classList.remove("hidden"),this.items[s].innerHTML+=`<div class="item-todo" draggable="true">${this.textArea[s].value}\n                                            <span class="item-todo-icon hidden"></span>\n                                            </div>`,this.textArea[s].value="",t.saveLocal()):(this.textArea[s].classList.add("hidden"),this.otherBtn[s].classList.add("hidden"),this.addContainer[s].classList.remove("hidden"))}))}))}},i=new e,o=new class{constructor(){this.container=document.querySelector(".container")}init(){this.container.addEventListener("click",this.del),this.container.addEventListener("mouseover",this.mouseover),this.container.addEventListener("mouseout",this.mouseout)}mouseover(e){e.target.classList.contains("item-todo")&&e.target.querySelector(".item-todo-icon")&&e.target.querySelector(".item-todo-icon").classList.remove("hidden"),e.target.classList.contains("item-todo-icon")&&e.target.classList.remove("hidden")}mouseout(e){if(e.target.classList.contains("item-todo")){const t=e.target.querySelector(".item-todo-icon");t&&(t.classList.add("hidden"),e.target.classList.remove("grabbing"),e.target.classList.add("grab"))}e.target.classList.contains("item-todo-icon")&&e.target.classList.add("hidden")}del(e){e.target.classList.contains("item-todo-icon")&&(e.target.classList.add("hidden"),e.target.parentNode.remove(),s.saveLocal())}};n.addArea(),o.init(),document.addEventListener("DOMContentLoaded",(()=>{i.insertLocal()}));const d=document.querySelector(".container");let a=null;d.onmousedown=function(e){let t=e.target;if(t.classList.contains("item-todo")){let s=e.clientX-t.getBoundingClientRect().left,n=e.clientY-t.getBoundingClientRect().top;const o=t.querySelector(".item-todo-icon");function d(e,i){t.style.left=e-s+"px",t.style.top=i-n+"px"}function r(e){d(e.pageX,e.pageY),t.hidden=!0,t.hidden=!1,t.hidden=!0;let s=document.elementFromPoint(e.clientX,e.clientY);if(t.hidden=!1,!s)return;let n=s.closest(".item-todo");if(a!==n&&n){const e=document.createElement("div");e.classList.add("item-todo-light"),e.setAttribute("style","height:"+(t.getBoundingClientRect().height-20)+"px"),a&&(a.nextSibling.remove(),e.remove()),a=n,a&&n.insertAdjacentElement("afterend",e)}}function c(){null!==a&&a.classList.contains("item-todo")&&(a.nextSibling.remove(),a.insertAdjacentElement("afterend",t),t.classList.add("grab"),t.classList.remove("grabbing"),t.removeAttribute("style"),t.children[0].classList.add("hidden"),document.removeEventListener("mousemove",r),t.removeEventListener("mouseup",c),a=null,i.saveLocal()),null===a&&(t.removeEventListener("mouseup",c),document.removeEventListener("mousemove",r),t.remove(),i.insertLocal())}o&&(o.classList.add("hidden"),t.classList.remove("grab"),t.classList.add("grabbing")),t.style.position="absolute",t.style.zIndex=1e3,document.body.append(t),d(e.pageX,e.pageY),document.addEventListener("mousemove",r),t.addEventListener("mouseup",c),t.ondragstart=function(){return!1}}}})();
//# sourceMappingURL=main.js.map