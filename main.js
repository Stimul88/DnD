(()=>{"use strict";class e{constructor(){this.todo=document.querySelector(".todo"),this.inProgress=document.querySelector(".in-progress"),this.done=document.querySelector(".done")}saveLocal(){localStorage.setItem("todo",this.todo.innerHTML),localStorage.setItem("inProgress",this.inProgress.innerHTML),localStorage.setItem("done",this.done.innerHTML)}insertLocal(){0!==localStorage.length&&(this.todo.innerHTML="",this.inProgress.innerHTML="",this.done.innerHTML="",this.todo.innerHTML=localStorage.getItem("todo"),this.inProgress.innerHTML=localStorage.getItem("inProgress"),this.done.innerHTML=localStorage.getItem("done"))}}const t=new e;const s=new e;const n=new class{constructor(){this.items=Array.from(document.querySelectorAll(".items")),this.textArea=Array.from(document.querySelectorAll(".textarea")),this.add=document.querySelectorAll(".add"),this.otherBtn=Array.from(document.querySelectorAll(".other-btn ")),this.addContainer=Array.from(document.querySelectorAll(".add-container ")),this.icon=document.querySelectorAll(".icon"),this.addCardBtn=document.querySelectorAll(".add-card-btn"),this.container=document.querySelector(".container"),this.actualElement=void 0}addArea(){this.add.forEach(((e,s)=>{this.add[s].addEventListener("click",(e=>{const t=this.textArea.find((e=>!e.classList.contains("hidden"))),n=this.otherBtn.find((e=>!e.classList.contains("hidden"))),o=this.addContainer.find((e=>e.classList.contains("hidden")));t&&(t.classList.add("hidden"),n.classList.add("hidden"),o.classList.remove("hidden")),this.textArea[s].classList.remove("hidden"),this.otherBtn[s].classList.remove("hidden"),this.addContainer[s].classList.add("hidden"),this.textArea[s].value=""})),this.icon[s].addEventListener("click",(e=>{this.textArea[s].classList.add("hidden"),this.otherBtn[s].classList.add("hidden"),this.addContainer[s].classList.remove("hidden"),this.textArea[s].value=""})),this.addCardBtn[s].addEventListener("click",(e=>{""!==this.textArea[s].value.trim()?(this.textArea[s].classList.add("hidden"),this.otherBtn[s].classList.add("hidden"),this.addContainer[s].classList.remove("hidden"),this.items[s].innerHTML+=`<div class="item-todo" draggable="true">${this.textArea[s].value}</div>`,this.textArea[s].value="",t.saveLocal()):(this.textArea[s].classList.add("hidden"),this.otherBtn[s].classList.add("hidden"),this.addContainer[s].classList.remove("hidden"))}))}))}},o=new e,i=new class{constructor(){this.container=document.querySelector(".container")}init(){this.container.addEventListener("click",this.del),this.container.addEventListener("mouseover",this.mouseover),this.container.addEventListener("mouseout",this.mouseout)}mouseover(e){const t=document.createElement("span");t.className="item-todo-icon",e.target.classList.contains("item-todo")&&e.target.appendChild(t)}mouseout(e){const t=document.querySelector(".item-todo-icon");t&&(e.target.classList.contains("item-todo")&&e.relatedTarget.classList.contains("item-todo-icon")||t.remove())}del(e){e.target.classList.contains("item-todo-icon")&&(e.target.parentNode.remove(),s.saveLocal())}};n.addArea(),i.init(),o.insertLocal();const d=document.querySelector(".container");let r;const a=e=>{r.style.top=e.clientY+"px",r.style.left=e.clientX+"px"},c=e=>{const t=e.target;t.classList.contains("item-todo")?(t.parentNode.insertBefore(r,t),r.style.top=null,r.style.left=null,r.classList.remove("dragged"),r=void 0,document.documentElement.removeEventListener("mouseup",c),document.documentElement.removeEventListener("mouseover",a),o.saveLocal()):o.insertLocal()};d.addEventListener("mousedown",(e=>{r=e.target,r.classList.contains("item-todo")&&(e.preventDefault(),r.classList.add("dragged"),document.documentElement.addEventListener("mouseup",c),document.documentElement.addEventListener("mouseover",a))}))})();
//# sourceMappingURL=main.js.map