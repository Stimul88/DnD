{"version":3,"file":"main.js","mappings":"mBAAe,MAAMA,EACnB,WAAAC,GACEC,KAAKC,KAAOC,SAASC,cAAc,SACnCH,KAAKI,WAAaF,SAASC,cAAc,gBACzCH,KAAKK,KAAOH,SAASC,cAAc,QACrC,CAEA,SAAAG,GACEC,aAAaC,QAAQ,OAAQR,KAAKC,KAAKQ,WACvCF,aAAaC,QAAQ,aAAcR,KAAKI,WAAWK,WACnDF,aAAaC,QAAQ,OAAQR,KAAKK,KAAKI,UACzC,CAEA,WAAAC,GAC6B,IAAxBH,aAAaI,SACdX,KAAKC,KAAKQ,UAAY,GACtBT,KAAKI,WAAWK,UAAY,GAC5BT,KAAKK,KAAKI,UAAY,GACtBT,KAAKC,KAAKQ,UAAYF,aAAaK,QAAQ,QAC3CZ,KAAKI,WAAWK,UAAYF,aAAaK,QAAQ,cACjDZ,KAAKK,KAAKI,UAAYF,aAAaK,QAAQ,QAE/C,ECpBF,MAAMC,EAAS,IAAIf,ECDnB,MAAM,EAAS,IAAIA,ECGnB,MAAMgB,EAAM,IFAG,MACb,WAAAf,GACEC,KAAKe,MAAQC,MAAMC,KAAKf,SAASgB,iBAAiB,WAClDlB,KAAKmB,SAAWH,MAAMC,KAAKf,SAASgB,iBAAiB,cACrDlB,KAAKc,IAAMZ,SAASgB,iBAAiB,QACrClB,KAAKoB,SAAWJ,MAAMC,KAAKf,SAASgB,iBAAiB,gBACrDlB,KAAKqB,aAAeL,MAAMC,KAAKf,SAASgB,iBAAiB,oBACzDlB,KAAKsB,KAAOpB,SAASgB,iBAAiB,SACtClB,KAAKuB,WAAarB,SAASgB,iBAAiB,gBAC9C,CAEA,OAAAM,GACExB,KAAKc,IAAIW,SAAQ,CAACC,EAAMC,KACtB3B,KAAKc,IAAIa,GAAOC,iBAAiB,SAAUC,IACzC,MAAMC,EAAe9B,KAAKmB,SAASY,MAAKF,IAAMA,EAAEG,UAAUC,SAAS,YAC7DC,EAAelC,KAAKoB,SAASW,MAAKF,IAAMA,EAAEG,UAAUC,SAAS,YAC7DE,EAAmBnC,KAAKqB,aAAaU,MAAKF,GAAKA,EAAEG,UAAUC,SAAS,YAEvEH,IACDA,EAAaE,UAAUlB,IAAI,UAC3BoB,EAAaF,UAAUlB,IAAI,UAC3BqB,EAAiBH,UAAUI,OAAO,WAEpCpC,KAAKmB,SAASQ,GAAOK,UAAUI,OAAO,UACtCpC,KAAKoB,SAASO,GAAOK,UAAUI,OAAO,UACtCpC,KAAKqB,aAAaM,GAAOK,UAAUlB,IAAI,UACvCd,KAAKmB,SAASQ,GAAOU,MAAQ,MAG/BrC,KAAKsB,KAAKK,GAAOC,iBAAiB,SAAUC,IAC1C7B,KAAKmB,SAASQ,GAAOK,UAAUlB,IAAI,UACnCd,KAAKoB,SAASO,GAAOK,UAAUlB,IAAI,UACnCd,KAAKqB,aAAaM,GAAOK,UAAUI,OAAO,UAC1CpC,KAAKmB,SAASQ,GAAOU,MAAQ,MAG/BrC,KAAKuB,WAAWI,GAAOC,iBAAiB,SAAUC,IACN,KAAtC7B,KAAKmB,SAASQ,GAAOU,MAAMC,QAC7BtC,KAAKmB,SAASQ,GAAOK,UAAUlB,IAAI,UACnCd,KAAKoB,SAASO,GAAOK,UAAUlB,IAAI,UACnCd,KAAKqB,aAAaM,GAAOK,UAAUI,OAAO,UAC1CpC,KAAKe,MAAMY,GAAOlB,WAAa,2CAA2CT,KAAKmB,SAASQ,GAAOU,qJAG/FrC,KAAKmB,SAASQ,GAAOU,MAAQ,GAC7BxB,EAAOP,cAEPN,KAAKmB,SAASQ,GAAOK,UAAUlB,IAAI,UACnCd,KAAKoB,SAASO,GAAOK,UAAUlB,IAAI,UACnCd,KAAKqB,aAAaM,GAAOK,UAAUI,OAAO,UAC5C,GACD,GAEL,GEpDI,EAAS,IAAItC,EACbyC,EAAM,IDHG,MACb,WAAAxC,GACEC,KAAKwC,UAAYtC,SAASC,cAAc,aAC1C,CAEA,IAAAsC,GACEzC,KAAKwC,UAAUZ,iBAAiB,QAAS5B,KAAKuC,KAC9CvC,KAAKwC,UAAUZ,iBAAiB,YAAa5B,KAAK0C,WAClD1C,KAAKwC,UAAUZ,iBAAiB,WAAY5B,KAAK2C,SACnD,CAEA,SAAAD,CAAUb,GACLA,EAAEe,OAAOZ,UAAUC,SAAS,cAC1BJ,EAAEe,OAAOzC,cAAc,oBACxB0B,EAAEe,OAAOzC,cAAc,mBAAmB6B,UAAUI,OAAO,UAI5DP,EAAEe,OAAOZ,UAAUC,SAAS,mBAC7BJ,EAAEe,OAAOZ,UAAUI,OAAO,SAE9B,CAEA,QAAAO,CAASd,GACP,GAAGA,EAAEe,OAAOZ,UAAUC,SAAS,aAAc,CAC3C,MAAMY,EAAUhB,EAAEe,OAAOzC,cAAc,mBACpC0C,IACDA,EAAQb,UAAUlB,IAAI,UACtBe,EAAEe,OAAOZ,UAAUI,OAAO,YAC1BP,EAAEe,OAAOZ,UAAUlB,IAAI,QAE3B,CACGe,EAAEe,OAAOZ,UAAUC,SAAS,mBAC7BJ,EAAEe,OAAOZ,UAAUlB,IAAI,SAE3B,CAEA,GAAAyB,CAAIV,GACCA,EAAEe,OAAOZ,UAAUC,SAAS,oBAC7BJ,EAAEe,OAAOZ,UAAUlB,IAAI,UACvBe,EAAEe,OAAOE,WAAWV,SACpB,EAAO9B,YAEX,GCtCFQ,EAAIU,UACJe,EAAIE,OAEJvC,SAAS0B,iBAAiB,oBAAoB,KAC5C,EAAOlB,aAAY,IAIrB,MAAM8B,EAAYtC,SAASC,cAAc,cAEzC,IAAI4C,EAAmB,KAEvBP,EAAUQ,YAAc,SAASnB,GAC/B,IAAIoB,EAAcpB,EAAEe,OAEpB,GAAGK,EAAYjB,UAAUC,SAAS,aAAc,CAC9C,IAAIiB,EAASrB,EAAEsB,QAAUF,EAAYG,wBAAwBC,KACzDC,EAASzB,EAAE0B,QAAUN,EAAYG,wBAAwBI,IAC7D,MAAMX,EAAUI,EAAY9C,cAAc,mBAc1C,SAASsD,EAAOC,EAAOC,GACrBV,EAAYW,MAAMP,KAAOK,EAAQR,EAAS,KAC1CD,EAAYW,MAAMJ,IAAMG,EAAQL,EAAS,IAC3C,CAEA,SAASO,EAAYC,GACnBL,EAAOK,EAAMJ,MAAOI,EAAMH,OAC1BV,EAAYc,QAAS,EACrBd,EAAYc,QAAS,EAErBd,EAAYc,QAAS,EAErB,IAAIC,EAAY9D,SAAS+D,iBAAiBH,EAAMX,QAASW,EAAMP,SAK/D,GAFAN,EAAYc,QAAS,GAEhBC,EAAW,OAEhB,IAAIE,EAAiBF,EAAUG,QAAQ,cAEvC,GAAIpB,IAAqBmB,GACpBA,EAAgB,CAEjB,MAAME,EAAQlE,SAASmE,cAAc,OACrCD,EAAMpC,UAAUlB,IAAI,mBACpBsD,EAAME,aAAa,QAAQ,WAAUrB,EAAYG,wBAAwBmB,OAAS,IAAO,MAGrFxB,IAEFA,EAAiByB,YAAYpC,SAG7BgC,EAAMhC,UAERW,EAAmBmB,EAEfnB,GACAmB,EAAeO,sBAAsB,WAAYL,EAEvD,CAEJ,CAIA,SAASM,IACiB,OAArB3B,GACEA,EAAiBf,UAAUC,SAAS,eAErCc,EAAiByB,YAAYpC,SAC7BW,EAAiB0B,sBAAsB,WAAYxB,GAEnDA,EAAYjB,UAAUlB,IAAI,QAC1BmC,EAAYjB,UAAUI,OAAO,YAC7Ba,EAAY0B,gBAAgB,SAC5BzE,SAAS0E,oBAAoB,YAAaf,GAC1CZ,EAAY2B,oBAAoB,UAAWF,GAC3C3B,EAAmB,KACnB,EAAOzC,aAIc,OAArByC,IACFE,EAAY2B,oBAAoB,UAAWF,GAC3CxE,SAAS0E,oBAAoB,YAAaf,GAC1CZ,EAAYb,SACZ,EAAO1B,cAEX,CAnFGmC,IACDA,EAAQb,UAAUlB,IAAI,UACtBmC,EAAYjB,UAAUI,OAAO,QAC7Ba,EAAYjB,UAAUlB,IAAI,aAG5BmC,EAAYW,MAAMiB,SAAW,WAC7B5B,EAAYW,MAAMkB,OAAS,IAE3B5E,SAAS6E,KAAKC,OAAO/B,GAErBQ,EAAO5B,EAAE6B,MAAO7B,EAAE8B,OA+ClBzD,SAAS0B,iBAAiB,YAAaiC,GA2BvCZ,EAAYrB,iBAAiB,UAAW8C,GAExCzB,EAAYgC,YAAc,WACxB,OAAO,CACT,CACF,CACF,C","sources":["webpack://DnD/./src/js/InsertLocal.js","webpack://DnD/./src/js/Add.js","webpack://DnD/./src/js/Del.js","webpack://DnD/./src/js/app.js"],"sourcesContent":["export default class InsertLocal {\r\n  constructor() {\r\n    this.todo = document.querySelector('.todo');\r\n    this.inProgress = document.querySelector('.in-progress');\r\n    this.done = document.querySelector('.done');\r\n  }\r\n\r\n  saveLocal() {\r\n    localStorage.setItem('todo', this.todo.innerHTML);\r\n    localStorage.setItem('inProgress', this.inProgress.innerHTML);\r\n    localStorage.setItem('done', this.done.innerHTML);\r\n  }\r\n\r\n  insertLocal() {\r\n    if(localStorage.length !== 0) {\r\n      this.todo.innerHTML = ''\r\n      this.inProgress.innerHTML = ''\r\n      this.done.innerHTML = ''\r\n      this.todo.innerHTML = localStorage.getItem('todo')\r\n      this.inProgress.innerHTML = localStorage.getItem('inProgress')\r\n      this.done.innerHTML = localStorage.getItem('done')\r\n    }\r\n  }\r\n\r\n}","import InsertLocal from \"./InsertLocal\";\r\n\r\nconst insert = new InsertLocal();\r\n\r\nexport default class Add {\r\n  constructor() {\r\n    this.items = Array.from(document.querySelectorAll('.items'));\r\n    this.textArea = Array.from(document.querySelectorAll('.textarea'))\r\n    this.add = document.querySelectorAll('.add')\r\n    this.otherBtn = Array.from(document.querySelectorAll('.other-btn '))\r\n    this.addContainer = Array.from(document.querySelectorAll('.add-container '))\r\n    this.icon = document.querySelectorAll('.icon');\r\n    this.addCardBtn = document.querySelectorAll('.add-card-btn');\r\n  }\r\n\r\n  addArea () {\r\n    this.add.forEach((item, index) => {\r\n      this.add[index].addEventListener('click', (e) => {\r\n        const findTextArea = this.textArea.find(e => !e.classList.contains('hidden'))\r\n        const findOtherBtn = this.otherBtn.find(e => !e.classList.contains('hidden'))\r\n        const findAddContainer = this.addContainer.find(e => e.classList.contains('hidden'))\r\n\r\n        if(findTextArea) {\r\n          findTextArea.classList.add('hidden')\r\n          findOtherBtn.classList.add('hidden')\r\n          findAddContainer.classList.remove('hidden')\r\n        }\r\n        this.textArea[index].classList.remove('hidden')\r\n        this.otherBtn[index].classList.remove('hidden')\r\n        this.addContainer[index].classList.add('hidden')\r\n        this.textArea[index].value = ''\r\n      })\r\n\r\n      this.icon[index].addEventListener('click', (e) => {\r\n        this.textArea[index].classList.add('hidden')\r\n        this.otherBtn[index].classList.add('hidden')\r\n        this.addContainer[index].classList.remove('hidden')\r\n        this.textArea[index].value = ''\r\n      })\r\n\r\n      this.addCardBtn[index].addEventListener('click', (e) => {\r\n        if (this.textArea[index].value.trim() !== \"\") {\r\n          this.textArea[index].classList.add('hidden')\r\n          this.otherBtn[index].classList.add('hidden')\r\n          this.addContainer[index].classList.remove('hidden')\r\n          this.items[index].innerHTML += `<div class=\"item-todo\" draggable=\"true\">${this.textArea[index].value}\r\n                                            <span class=\"item-todo-icon hidden\"></span>\r\n                                            </div>`\r\n          this.textArea[index].value = ''\r\n          insert.saveLocal()\r\n        } else {\r\n          this.textArea[index].classList.add('hidden')\r\n          this.otherBtn[index].classList.add('hidden')\r\n          this.addContainer[index].classList.remove('hidden')\r\n        }\r\n      })\r\n    })\r\n  }\r\n}","import InsertLocal from \"./InsertLocal\";\r\nconst insert = new InsertLocal();\r\n\r\nexport default class Del {\r\n  constructor() {\r\n    this.container = document.querySelector('.container');\r\n  }\r\n\r\n  init() {\r\n    this.container.addEventListener('click', this.del)\r\n    this.container.addEventListener('mouseover', this.mouseover)\r\n    this.container.addEventListener('mouseout', this.mouseout)\r\n  }\r\n\r\n  mouseover(e) {\r\n    if(e.target.classList.contains('item-todo')) {\r\n      if(e.target.querySelector('.item-todo-icon')) {\r\n        e.target.querySelector('.item-todo-icon').classList.remove('hidden')\r\n      }\r\n\r\n    }\r\n    if(e.target.classList.contains('item-todo-icon')) {\r\n      e.target.classList.remove('hidden')\r\n    }\r\n  }\r\n\r\n  mouseout(e) {\r\n    if(e.target.classList.contains('item-todo')) {\r\n      const delIcon = e.target.querySelector('.item-todo-icon')\r\n      if(delIcon) {\r\n        delIcon.classList.add('hidden')\r\n        e.target.classList.remove('grabbing')\r\n        e.target.classList.add('grab')\r\n      }\r\n    }\r\n    if(e.target.classList.contains('item-todo-icon')) {\r\n      e.target.classList.add('hidden')\r\n    }\r\n  }\r\n\r\n  del(e) {\r\n    if(e.target.classList.contains('item-todo-icon')) {\r\n      e.target.classList.add('hidden')\r\n      e.target.parentNode.remove()\r\n      insert.saveLocal()\r\n    }\r\n  }\r\n}\r\n\r\n","import Add from './Add'\r\nimport InsertLocal from \"./InsertLocal\";\r\nimport Del from './Del'\r\n\r\nconst add = new Add();\r\nconst insert = new InsertLocal();\r\nconst del = new Del();\r\n\r\nadd.addArea();\r\ndel.init();\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  insert.insertLocal()\r\n})\r\n\r\n\r\nconst container = document.querySelector('.container');\r\n\r\nlet currentDroppable = null;\r\n\r\ncontainer.onmousedown = function(e) { // (1) отследить нажатие\r\n  let mouseUpItem = e.target;\r\n\r\n  if(mouseUpItem.classList.contains('item-todo')) {\r\n    let shiftX = e.clientX - mouseUpItem.getBoundingClientRect().left;\r\n    let shiftY = e.clientY - mouseUpItem.getBoundingClientRect().top;\r\n    const delIcon = mouseUpItem.querySelector('.item-todo-icon')\r\n    if(delIcon) {\r\n      delIcon.classList.add('hidden')\r\n      mouseUpItem.classList.remove('grab')\r\n      mouseUpItem.classList.add('grabbing')\r\n    }\r\n\r\n    mouseUpItem.style.position = 'absolute';\r\n    mouseUpItem.style.zIndex = 1000;\r\n\r\n    document.body.append(mouseUpItem);\r\n\r\n    moveAt(e.pageX, e.pageY);\r\n\r\n    function moveAt(pageX, pageY) {\r\n      mouseUpItem.style.left = pageX - shiftX + 'px';\r\n      mouseUpItem.style.top = pageY - shiftY + 'px';\r\n    }\r\n\r\n    function onMouseMove(event) {\r\n      moveAt(event.pageX, event.pageY);\r\n      mouseUpItem.hidden = true;\r\n      mouseUpItem.hidden = false;\r\n      // внутри обработчика события мыши\r\n      mouseUpItem.hidden = true; // (*) прячем переносимый элемент\r\n\r\n      let elemBelow = document.elementFromPoint(event.clientX, event.clientY);\r\n      // elemBelow - элемент под мячом (возможная цель переноса)\r\n\r\n      mouseUpItem.hidden = false;\r\n\r\n      if (!elemBelow) return;\r\n\r\n      let droppableBelow = elemBelow.closest('.item-todo');\r\n\r\n      if (currentDroppable !== droppableBelow) {\r\n        if(droppableBelow) {\r\n\r\n          const newEl = document.createElement('div')\r\n          newEl.classList.add('item-todo-light')\r\n          newEl.setAttribute(\"style\",`height:${mouseUpItem.getBoundingClientRect().height - 20}` + `px`);\r\n\r\n\r\n          if (currentDroppable) {\r\n            // const itemToDo = containerBox.querySelectorAll('.item-todo')\r\n            currentDroppable.nextSibling.remove()\r\n\r\n            // логика обработки процесса \"вылета\" из droppable (удаляем подсветку)\r\n            newEl.remove()\r\n          }\r\n          currentDroppable = droppableBelow;\r\n\r\n          if (currentDroppable) {\r\n              droppableBelow.insertAdjacentElement('afterend', newEl)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    document.addEventListener('mousemove', onMouseMove);\r\n\r\n    function mouseup() {\r\n      if(currentDroppable !== null) {\r\n        if(currentDroppable.classList.contains('item-todo')) {\r\n\r\n          currentDroppable.nextSibling.remove()\r\n          currentDroppable.insertAdjacentElement('afterend', mouseUpItem)\r\n\r\n          mouseUpItem.classList.add('grab')\r\n          mouseUpItem.classList.remove('grabbing')\r\n          mouseUpItem.removeAttribute(\"style\")\r\n          document.removeEventListener('mousemove', onMouseMove);\r\n          mouseUpItem.removeEventListener('mouseup', mouseup);\r\n          currentDroppable = null\r\n          insert.saveLocal()\r\n        }\r\n      }\r\n\r\n      if (currentDroppable === null) {\r\n        mouseUpItem.removeEventListener('mouseup', mouseup);\r\n        document.removeEventListener('mousemove', onMouseMove);\r\n        mouseUpItem.remove()\r\n        insert.insertLocal()\r\n      }\r\n    }\r\n\r\n    mouseUpItem.addEventListener('mouseup', mouseup);\r\n\r\n    mouseUpItem.ondragstart = function() {\r\n      return false;\r\n    };\r\n  }\r\n};\r\n"],"names":["InsertLocal","constructor","this","todo","document","querySelector","inProgress","done","saveLocal","localStorage","setItem","innerHTML","insertLocal","length","getItem","insert","add","items","Array","from","querySelectorAll","textArea","otherBtn","addContainer","icon","addCardBtn","addArea","forEach","item","index","addEventListener","e","findTextArea","find","classList","contains","findOtherBtn","findAddContainer","remove","value","trim","del","container","init","mouseover","mouseout","target","delIcon","parentNode","currentDroppable","onmousedown","mouseUpItem","shiftX","clientX","getBoundingClientRect","left","shiftY","clientY","top","moveAt","pageX","pageY","style","onMouseMove","event","hidden","elemBelow","elementFromPoint","droppableBelow","closest","newEl","createElement","setAttribute","height","nextSibling","insertAdjacentElement","mouseup","removeAttribute","removeEventListener","position","zIndex","body","append","ondragstart"],"sourceRoot":""}